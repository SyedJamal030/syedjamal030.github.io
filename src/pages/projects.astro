---
import BaseLayout from "../layouts/Layout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const projects = await getCollection('projects', ({ data }) => !data.draft);
const sortedProjects = projects.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

---

<BaseLayout title="My Projects | Syed Jamal">
  <h1 class="text-4xl font-bold text-slate-900 mb-4">All Projects</h1>
  <p class="text-lg text-slate-600 mb-12">
    A collection of my work, experiments, and open-source contributions.
  </p>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    {sortedProjects.map((project) => <ProjectCard project={project} />)}
  </div>
</BaseLayout>
